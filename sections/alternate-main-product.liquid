<script src="{{ 'alternate-main-product.js' | asset_url }}" type="module"></script>

<main id="main" class="main" tabindex="-1">
<article 
    aria-labelledby="heading-primary" 
    class="product wrapper"
    data-section-id="{{- section.id -}}"
    data-section-type="alternate-main-product"
>
    <div class="product__group">
        <div class="product__illustration">
            <img 
                src="{{ product.featured_image | image_url: width: 473 }}" 
                alt="Image of the {{ product.featured_image.alt }}."
                width="473" 
                height="707"
                class="image product__image"
                />
        </div>
        
        <section class="description product__description">
            <header class="description__section description__section--top">
                {%- if product.title != blank -%}
                    <h1 class="heading description__heading" id="heading-primary">
                        {{ product.title }}                   
                    </h1>
                {%- endif -%}

                {%- if product.price != blank -%}
                    <span class="description__caption">
                        {{ product.price | money_with_currency }}
                    </span>

                    <small class="description__note">{{ 'products.product.include_taxes' | t }}</small>
                {%- endif -%}
            </header>

            <form class="form description__section" data-form>
                <fieldset class="fieldset form__filter">
                    <legend class="form__legend">Size</legend>

                    <div>
                        <input 
                            type="radio" 
                            name="size-input" 
                            id="size-xs" 
                            value="xs"
                            class="form__input visually-hidden" 
                        />

                        <label for="size-xs" class="form__label">
                            <abbr>XS</abbr>
                        </label>
                    </div>

                    <div>
                        <input 
                            type="radio" 
                            name="size-input" 
                            id="size-s" 
                            value="s"
                            checked="checked"
                            class="form__input visually-hidden" 
                        />

                        <label for="size-s" class="form__label">
                            <abbr>S</abbr>
                        </label>
                    </div>

                    <div>
                        <input 
                            type="radio" 
                            name="size-input" 
                            id="size-m" 
                            value="m"
                            class="form__input visually-hidden" 
                        />

                        <label for="size-m" class="form__label">
                            <abbr>M</abbr>
                        </label>
                    </div>

                    <div>
                        <input 
                            type="radio" 
                            name="size-input" 
                            id="size-l" 
                            value="l"
                            class="form__input visually-hidden" 
                        />

                        <label for="size-l" class="form__label">
                            <abbr>L</abbr>
                        </label>
                    </div>

                    <div>
                        <input 
                            type="radio" 
                            name="size-input" 
                            id="size-xl" 
                            value="xl"
                            class="form__input visually-hidden"
                        />

                        <label for="size-xl" class="form__label">
                            <abbr>XL</abbr>
                        </label>
                    </div>

                    <div>
                        <input 
                            type="radio" 
                            name="size-input" 
                            id="size-2xl" 
                            value="2xl"
                            disabled="disabled" 
                            class="form__input visually-hidden"
                        />

                        <label for="size-2xl" class="form__label">
                            <abbr>2XL</abbr>
                        </label>
                    </div>
                </fieldset>

                <fieldset class="fieldset form__filter form__filter--colored" data-color-group>
                    <legend class="form__legend">
                        Color - <span data-color aria-hidden="true">White</span>
                    </legend>

                    <div class="form__item form__item--white">
                        <input 
                            type="radio" 
                            name="color-input" 
                            id="color-white" 
                            value="White"
                            checked="checked"
                            class="form__input visually-hidden"
                            data-color-input 
                        />

                        <label 
                            for="color-white"
                            data-tooltip="White"
                            class="form__label form__label--colored"
                        >
                            <span class="visually-hidden">White</span>
                        </label>
                    </div>

                    <div class="form__item form__item--black">
                        <input 
                            type="radio" 
                            name="color-input" 
                            id="color-black" 
                            value="Black"
                            class="form__input visually-hidden"
                            data-color-input 
                        />

                        <label 
                            for="color-black" 
                            data-tooltip="Black"
                            class="form__label form__label--colored"
                        >
                            <span class="visually-hidden">Black</span>
                        </label>
                    </div>

                    <div class="form__item form__item--gray">
                        <input 
                            type="radio" 
                            name="color-input" 
                            id="color-gray-latte" 
                            value="Gray latte"
                            class="form__input visually-hidden"
                            data-color-input 
                        />

                        <label 
                            for="color-gray-latte"
                            data-tooltip="Gray latte"
                            class="form__label form__label--colored"
                        >
                            <span class="visually-hidden">Gray latte</span>
                        </label>
                    </div>

                    <div class="form__item form__item--purple">
                        <input 
                            type="radio" 
                            name="color-input" 
                            id="color-purple-latte" 
                            value="Purple latte"
                            class="form__input visually-hidden"
                            data-color-input 
                        />

                        <label 
                            for="color-purple-latte" 
                            data-tooltip="Purple latte"
                            class="form__label form__label--colored"
                        >
                            <span class="visually-hidden">Purple latte</span>
                        </label>
                    </div>

                    <div class="form__item form__item--pink">
                        <input 
                            type="radio" 
                            name="color-input" 
                            id="color-pink-latte" 
                            value="Pink latte"
                            disabled="disabled"
                            class="form__input visually-hidden"
                            data-color-input 
                        />

                        <label 
                            for="color-pink-latte" 
                            data-tooltip="Pink latte"
                            class="form__label form__label--colored"
                        >
                            <span class="visually-hidden">Pink latte</span>
                        </label>
                    </div>

                    <div class="form__item form__item--orange">
                        <input 
                            type="radio" 
                            name="color-input" 
                            id="color-orange-latte" 
                            value="Orange latte"
                            disabled="disabled"
                            class="form__input visually-hidden"
                            data-color-input 
                        />

                        <label 
                            for="color-orange-latte" 
                            data-tooltip="Orange latte"
                            class="form__label form__label--colored"
                        >
                            <span class="visually-hidden">Orange latte</span>
                        </label>
                    </div>
                </fieldset>

                <fieldset data-counter class="fieldset counter">
                    <legend class="form__legend">{{ 'products.product.quantity.label' | t }}</legend>
                    
                    <input
                        data-input 
                        type="number"
                        name="quantity-input" 
                        class="input-number counter__input"
                        aria-label="items quantity"
                        aria-live="polite"
                        aria-atomic="true"
                    />

                    <button
                        data-decrease
                        type="button"
                        class="button counter__button"
                        aria-label="Decrease"
                    > 
                        −
                    </button>

                    <button
                        data-increase
                        type="button" 
                        class="button counter__button counter__button--increase"
                        aria-label="Increase"
                    >
                        +
                    </button>
                </fieldset>

                <div class="form__button-group">
                    <button 
                        type="submit" 
                        name="action" 
                        value="add"
                        class="button form__button form__button--secondary"
                        data-button-add
                    >
                        {{ 'products.product.add_to_cart' | t }}
                    </button>

                    <button 
                        type="submit" 
                        name="action" 
                        value="buy"
                        class="button form__button form__button--primary"
                        data-button-buy
                    >
                        Buy it now
                    </button>
                </div>
            </form>

            {%- if product.description != blank-%}
                <footer class="description__section description__section--bottom user-description">
                    {{ product.description }}       
                </footer>
            {%- endif -%}
        </section>
    </div>

    {%- if section.blocks.size > 0 -%}
        <ul class="list product__accordion accordion" role="list" data-accordion>
            {%- for block in section.blocks -%}
                <li {{ block.shopify_attributes }} class="accordion__item">
                    <details class="accordion__element" data-details>
                        <summary class="accordion__summary" data-summary>
                            <h2 class="heading accordion__heading">
                                {{ block.settings.accordion_item_heading | default: 'Accordion heading.' }}
                            </h2>
                        </summary>

                        <div class="accordion__collapse" data-details-collapse>
                            <p class="paragraph">
                                {{ block.settings.accordion_item_text | default: 'Accordion collapse.' }}
                            </p>
                        </div>
                    </details>
                </li>
            {%- endfor -%}
        </ul>
    {%- endif -%}
</article>
</main>

{% schema %}
  {
    "name": "Alternate-main-product",
    "limit": 1,
    "templates": ["product"],
    "blocks": [
      {
        "type": "Accordion",
        "name": "accordion",
        "settings": [
          {
            "type": "text",
            "id": "accordion_item_heading",
            "label": "Заголовок"
          },
          
          {
            "type": "richtext",
            "id": "accordion_item_text",
            "label": "Текст"
          }
        ]
      }
    ],
    
    "presets": [
      {
        "name": "alternate-main-product"
      }
    ]
  }
{% endschema %}
